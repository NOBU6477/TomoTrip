# --- Runtime / Run button ---
run = ["bash", "-lc", "python3 -m http.server $PORT"]

# --- Nix channel (これがないとNixがビルドされません) ---
[nix]
channel = "stable-24_05"

# --- ポート設定（プレビューのために5000を使う想定） ---
[env]
PORT = "5000"

[[ports]]
localPort = 5000
externalPort = 80

# --- Runボタンのラベル（任意） ---
[workflows]
runButton = "Start server"

[[workflows.workflow]]
name = "Start server"
author = "nobu"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "python3 -m http.server $PORT"
waitForPort = 5000
